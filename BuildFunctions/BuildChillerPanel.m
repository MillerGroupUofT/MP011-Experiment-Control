
% Build panel for chiller control
function handles = BuildChillerPanel(hObject, event, figName, handles)
    
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    % Text (Status)
    handles.figGUI_panChiller_table_txt = uicontrol(...
        'Parent', hObject, ...
        'Style', 'text', ...
        'String', 'Status:', ...
        'FontName', handles.gui_textFontName, ...
        'BackgroundColor', handles.gui_panelBackgroundColor, ...  
        'Units', 'pixels', ...
        'Position', [10 455 100 15], ...
        'Tag', 'Status Table title', ...
        'HorizontalAlignment', 'left'...
        );

    % Table for values (Status)
    handles.figGUI_panChiller_tableStatus = uitable(...
        'Parent', hObject, ...
        'FontName', handles.gui_editFontName, ...
        'BackgroundColor', handles.gui_tableBackgroundColor, ...
        'ForegroundColor', handles.gui_editFontColor, ...
        'RowStriping', 'on', ...
        'ColumnName', {'Parameters', ''}, ...
        'ColumnEditable', [true, true], ...
        'ColumnFormat', {'char', 'logical'}, ...
        'Units', 'pixels', ...
        'ColumnWidth', {115, 30}, ...
        'Tag', 'Status Table', ...
        'Position', [10 135 210 320]...
        );

    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    % Text (Configuration)
    handles.figGUI_panChiller_tableConfig_txt = uicontrol(...
        'Parent', hObject, ...
        'Style', 'text', ...
        'String', 'Configuration:', ...
        'FontName', handles.gui_textFontName, ...
        'BackgroundColor', handles.gui_panelBackgroundColor, ...  
        'Units', 'pixels', ...
        'Position', [210 105 100 15], ...
        'Tag', 'Configuration Table title', ...
        'HorizontalAlignment', 'left'...
        );
 
	% Table for values (Configuration)
	handles.figGUI_panChiller_tableConfig = uitable(...
        'Parent', hObject, ...
        'FontName', handles.gui_editFontName, ...
        'BackgroundColor', handles.gui_tableBackgroundColor, ...
        'ForegroundColor', handles.gui_editFontColor, ...
        'RowStriping', 'on', ...
        'ColumnName', {'Parameters', 'Value', 'Set to...'}, ...
        'ColumnEditable', [true, true, true], ...
        'ColumnFormat', {'char', 'char', 'char'}, ...
        'Units', 'pixels', ...
        'ColumnWidth', {180, 60, 60}, ...
        'Tag', 'Configuration Table', ...
        'Position', [210 10 350 95]...
        );

    % Text (POW)
    handles.figGUI_panChiller_POWStatus_txtPOW = uicontrol(...
        'Parent', hObject, ...
        'Style', 'text', ...
        'String', 'POW', ...
        'FontName', handles.gui_textFontName, ...
        'BackgroundColor', handles.gui_panelBackgroundColor, ...  
        'Units', 'pixels', ...
        'Position', [10 105 30 15], ...
        'Tag', 'Power Status text', ...
        'HorizontalAlignment', 'left'...
        );

    % Edit text box for chiller power status
    handles.figGUI_panChiller_POWStatus = uicontrol(...
        'Parent', hObject, ...
        'Style', 'edit',...
        'String', '?',...
        'FontName', handles.gui_textFontName, ...
        'BackgroundColor', 'yellow',...
        'Units', 'pixels',...
        'Position', [17 87 15 15],...
        'Tag', 'Power Status mark', ...
        'HorizontalAlignment', 'center'...
        );

    % Push button to turn on chiller
    handles.figGUI_panChiller_buttTurnOn = uicontrol(...
        'Parent', hObject, ...
        'Style', 'pushbutton', ...
        'FontName', handles.gui_textFontName, ...
        'String', 'On', ...
        'Position', [40 80 70 30], ...
        'Tag', 'On Button', ...
        'Callback', {@CallbackFunc_Pressbutton, {'Chiller', 'turn on'},[]}...
        );


    % Push button to turn off chiller
    handles.figGUI_panChiller_buttTurnOff = uicontrol(...
        'Parent', hObject, ...
        'Style', 'pushbutton', ...
        'FontName', handles.gui_textFontName, ...
        'String', 'Off', ...
        'Position', [120 80 70 30], ...
        'Tag', 'Off Button', ...
        'Callback', {@CallbackFunc_Pressbutton, {'Chiller', 'turn off'},[]}...
        );


    % Edit text box for chiller COM status
    handles.figGUI_panChiller_comStatus = uicontrol(...
        'Parent', hObject, ...
        'Style', 'edit', ...
        'FontName', handles.gui_textFontName, ...
        'String', handles.chiller_comStatus, ...
        'BackgroundColor', handles.gui_panelBackgroundColor, ...
        'Units', 'pixels', ...
        'Position', [10 10 180 15], ...
        'Tag', 'Com Status', ...
        'HorizontalAlignment', 'left'...
        );

    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    
    % Save handles in base workspace
    assignin('base','handles',handles)

    % Disable status edit boxes
    set(handles.figGUI_panChiller_comStatus, 'Enable', 'off');

    % Enable/disable buttons
    set(handles.figGUI_panChiller_buttTurnOn, 'Enable', 'off');
    set(handles.figGUI_panChiller_buttTurnOff, 'Enable', 'off');

end